---
title: "PS2_Applied_"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(testthat)
library(dplyr)
library(ggplot2)
```



1.1.1
                 
```{r}

# Start the clock!
ptm <- proc.time()

df_parking_tickets <- read.table("parking_tickets_one_percent.txt", sep=",", header=TRUE)

# Stop the clock
proc.time() - ptm

glimpse(df_parking_tickets)
df_parking_tickets%>%head(100)
```
It takes 3.05 to read the file.


```{r}
test_that("Number of parking rows:", {
  nrow(df_parking_tickets)==287458
})
```

1.1.2

The file is 79.8 mb

the full data set is 100 times this data set.
The number of rows is therefore 2,874,580 and the size of the file is 798 mb.

1.1.3



```{r}
na_count <-sapply(df_parking_tickets, function(y) sum(length(which(is.na(y)))))

na_count<-data.frame(na_count)

na_count
```


1.2.1 the number of tickets that were issues in the 1pct file were 287458.  Based on that the number of tickets issued in 2017 were 2,874,580 in Chicago.  The article states that the city of Chicago issues annually more than 3 million tickets.  This is not a significant difference as the article was written early in the year 2018 and exact information may not have been avaialble. 2.8 million is not far away from 3 million anyway.

1.2.2
Most frequent types of violations

```{r}
most_frequent_violations <- df_parking_tickets%>%
  group_by(violation_description)%>%
  summarise(n=n())%>% 
  arrange(desc(n))%>%
  head(20)

most_frequent_violations
ggplot(most_frequent_violations,aes(violation_description,y=n))+
  geom_bar(stat="identity")+
  theme(axis.text=element_text(angle=45, hjust=1))




```



